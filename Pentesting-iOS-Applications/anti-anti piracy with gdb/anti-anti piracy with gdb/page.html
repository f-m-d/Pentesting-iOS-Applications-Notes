<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Anti-Anti Piracy with GDB</title>
</head><body>ASM: Assembly<br/>
<img src="1.png" /><br/>
<hr/><hr/><br/>
Prendendo d'esempio l'app di prima:<br/>
quella che fa il check sulla piracy!<br/>
<img src="1 2.png" /><br/>
<br/>
<img src="1 3.png" /><br/>
<br/>
Disassembliamo e settiamo il breakpoint alla classe-metodo scelto:<br/>
<img src="1 4.png" /><br/>
<br/>
<br/>
Continuiamo con l'app e clicchiamo sul pulsante<br/>
per checkare se il nostro iPhone è jailbroken:<br/>
<img src="1 5.png" /><br/>
<br/>
<b>Ora settiamo un breakpoint a TUTTI gli elementi che</b><br/>
richiamano objc_msgSend<br/>
<img src="1 6.png" /><br/>
<img src="1 7.png" /><br/>
<br/>
Ora continuiamo:<br/>
<img src="1 5.png" /><br/>
<br/>
Ai breakpoint, controlliamo i registri:<br/>
Vi è una funzione di ricerca path esistente!<br/>
<img src="1 8.png" /><br/>
<br/>
Se stampiamo il registro successivo,<br/>
notiamo una path!<br/>
<img src="2.png" /><br/>
<br/>
<br/>
La prossima istruzione<br/>
dovrebbe contenere il risultato dell'output:<br/>
<img src="1 9.png" /><br/>
<br/>
Infatti, nel registro successivo<br/>
l'output è true (1)<br/>
<img src="1 10.png" /><br/>
<br/>
Se cambiamo in 0,<br/>
adesso ci dirà che il nostro iPhone<br/>
non è più jailbreakato!<br/>
<img src="1 11.png" /><br/>
<br/>
<hr/><hr/><br/>
Possiamo tornare indietro<br/>
col comando <b>bt (backtrace)</b><br/>
<img src="1 12.png" /><br/>
<br/>
<br/>
Cancelliamo tutti i breakpoint (delete)<br/>
ed aggiungiamo un breakpoint a <b>checkPiracy</b>:<br/>
<img src="1 13.png" /><br/>
<br/>
NB: Continuiamo con il comando <b>c</b>!<br/>
Ora disassembliamo il codice<br/>
<img src="1 14.png" /><br/>
<br/>
<img src="1 15.png" /><br/>
<br/>
<img src="2 2.png" /></body></html>